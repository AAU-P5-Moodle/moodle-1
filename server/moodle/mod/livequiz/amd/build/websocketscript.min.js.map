{"version":3,"file":"websocketscript.min.js","sources":["../src/websocketscript.js"],"sourcesContent":["// Define and export the init function\nexport const init = (url) => {\n    console.log(\"Script is loaded and attempting to attach event listener.\"); // eslint-disable-line no-console\n\n    const button = document.getElementById(\"openconnection\");\n    if (!button) {\n        console.error(\"Button with id 'openconnection' not found!\"); // eslint-disable-line no-console\n        return;\n    }\n\n    let socket; // WebSocket reference\n\n    // Attach event listener to the button\n    button.addEventListener('click', () => {\n        console.log(\"Button clicked, attempting to open WebSocket connection...\"); // eslint-disable-line no-console\n\n        try {\n            // Initialize WebSocket connection\n            socket = new WebSocket(url);\n            console.log(\"WebSocket object created, awaiting connection.\"); // eslint-disable-line no-console\n\n            // Handle successful connection\n            socket.onopen = () => {\n                console.log(\"WebSocket connection established successfully!\"); // eslint-disable-line no-console\n                console.log(\"Trying to send message\"); // eslint-disable-line no-console\n                socket.send(\"Test\");\n            };\n\n            // Handle incoming messages\n            socket.onmessage = (event) => {\n                console.log(\"WebSocket message received:\", event.data); // eslint-disable-line no-console\n            };\n\n            // Handle errors\n            socket.onerror = (error) => {\n                console.error(\"WebSocket encountered an error:\", error); // eslint-disable-line no-console\n            };\n\n            // Handle connection close\n            socket.onclose = () => {\n                console.log(\"WebSocket connection closed.\"); // eslint-disable-line no-console\n            };\n\n        } catch (error) {\n            console.error(\"Error initializing WebSocket connection:\", error); // eslint-disable-line no-console\n        }\n    });\n\n    console.log(\"Event listener attached to button with id 'openconnection'.\"); // eslint-disable-line no-console\n};\n"],"names":["url","console","log","button","document","getElementById","error","socket","addEventListener","WebSocket","onopen","send","onmessage","event","data","onerror","onclose"],"mappings":"iKACqBA,MACjBC,QAAQC,IAAI,mEAENC,OAASC,SAASC,eAAe,sBAClCF,mBACDF,QAAQK,MAAM,kDAIdC,OAGJJ,OAAOK,iBAAiB,SAAS,KAC7BP,QAAQC,IAAI,kEAIRK,OAAS,IAAIE,UAAUT,KACvBC,QAAQC,IAAI,kDAGZK,OAAOG,OAAS,KACZT,QAAQC,IAAI,kDACZD,QAAQC,IAAI,0BACZK,OAAOI,KAAK,SAIhBJ,OAAOK,UAAaC,QAChBZ,QAAQC,IAAI,8BAA+BW,MAAMC,OAIrDP,OAAOQ,QAAWT,QACdL,QAAQK,MAAM,kCAAmCA,QAIrDC,OAAOS,QAAU,KACbf,QAAQC,IAAI,iCAGlB,MAAOI,OACLL,QAAQK,MAAM,2CAA4CA,WAIlEL,QAAQC,IAAI"}