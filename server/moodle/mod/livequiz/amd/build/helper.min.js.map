{"version":3,"file":"helper.min.js","sources":["../src/helper.js"],"sourcesContent":["import Templates from \"core/templates\";\nimport { exception as displayException } from \"core/notification\";\nimport { add_delete_question_listeners } from \"./delete_question\";\n\nlet IDs = 0;\nlet isEditing = false;\nlet editingIndex = 0;\n\nexport const add_answer_button_event_listener = ()=> {\n    //Adding event listerner to add answer button\n    let answer_button = document.querySelector(\".add_new_answer_to_question\");\n    answer_button.addEventListener(\"click\", () => {\n        append_answer_input();\n    });\n}\n\n function append_answer_input() {\n    let answer_container = create_answer_container(IDs+1);\n    let parent_element = document.querySelector(\".all_answers_for_question_div\");\n    parent_element.appendChild(answer_container);\n    IDs++;\n}\n\nexport function create_answer_container(id){\n    let answer_container = document.createElement(\"div\");\n    answer_container.className = \"container_for_new_answer\";\n\n    let answer_input = document.createElement(\"input\");\n    answer_input.className = \"answer_input\";\n    answer_input.placeholder = \"Enter answer\";\n    answer_input.id = \"answer_input_\" + (id);\n    answer_input.setAttribute(\"required\", true);\n\n    let answer_checkbox = document.createElement(\"input\");\n    answer_checkbox.setAttribute(\"type\", \"checkbox\");\n    answer_checkbox.className = \"answer_checkbox\";\n    answer_checkbox.id = \"answer_checkbox_\" + (id);\n\n    let delete_answer_button = create_element(\n        \"delete_answer_button\",\n        \"button\",\n        \"delete_answer_button\",\n        \"X\"\n    );\n    delete_answer_button.id = \"delete_answer_button_\" + (id);\n\n    answer_container.appendChild(answer_checkbox);\n    answer_container.appendChild(answer_input);\n    answer_container.appendChild(delete_answer_button);\n\n    delete_answer_button.addEventListener(\"click\", () => {\n        answer_container.remove();\n    });\n    return answer_container;\n}\n\nexport const add_discard_question_button_listener = () => {\n    let discard_question_button = document.querySelector(\n        \".discard_question_button\"\n    );\n    discard_question_button.addEventListener(\"click\", () => {\n        render_question_confirmation();\n    });\n}\n\nfunction render_question_confirmation() {\n    Templates.renderForPromise(\"mod_livequiz/question_confirmation\")\n\n        .then(({ html, js }) => {\n            Templates.appendNodeContents(\".Modal_div\", html, js);\n            question_confirmation();\n        })\n        .catch((error) => displayException(error));\n}\n\nfunction question_confirmation() {\n    let toast_promise_deletion_div = document.querySelector(\n        \".toast_promise_deletion_div\"\n    );\n    let cancel_question_deletion_button = document.querySelector(\n        \".cancel_question_deletion_button\"\n    );\n    let continue_question_deletion_button = document.querySelector(\n        \".continue_question_deletion_button\"\n    );\n\n    let modal_div = document.querySelector(\".Modal_div\");\n\n    continue_question_deletion_button.addEventListener(\"click\", () => {\n        isEditing = false;\n        editingIndex = null;\n        modal_div.remove();\n    });\n\n    cancel_question_deletion_button.addEventListener(\"click\", () => {\n        toast_promise_deletion_div.remove();\n    });\n}\n\nfunction create_element(element_name, type, class_name, content) {\n    element_name = document.createElement(type);\n    element_name.className = class_name;\n    element_name.textContent = content;\n    return element_name;\n}\n\nexport function rerender_saved_questions_list(questions, callback) {\n    const contextsavedquestions = {\n      questions: questions,\n    };\n  \n    //Remove the saved questions list.\n    let questions_list = document.querySelector(\"#saved_questions_list\");\n    questions_list.remove();\n  \n    //Re-render saved questions list.\n    Templates.renderForPromise(\n      \"mod_livequiz/saved_questions_list\",\n      contextsavedquestions\n    )\n      .then(({ html, js }) => {\n        Templates.appendNodeContents(\"#saved-questions-container\", html, js);\n        \n        //Call the functions in callback, this allows for custom functions to be called after the rerendering.\n        if (typeof callback === 'function') {\n            callback();\n        }\n      })\n      .catch((error) => displayException(error));\n}\n\nexport function rerender_take_quiz_button(){\n    \n}\n"],"names":["questions","callback","contextsavedquestions","document","querySelector","remove","renderForPromise","then","_ref2","html","js","appendNodeContents","catch","error","IDs","isEditing","editingIndex","create_answer_container","id","answer_container","createElement","className","answer_input","placeholder","setAttribute","answer_checkbox","delete_answer_button","element_name","type","class_name","content","textContent","appendChild","addEventListener","append_answer_input","_ref","toast_promise_deletion_div","cancel_question_deletion_button","continue_question_deletion_button","modal_div","question_confirmation"],"mappings":"waA0G8CA,UAAWC,gBAC/CC,sBAAwB,CAC5BF,UAAWA,WAIQG,SAASC,cAAc,yBAC7BC,4BAGLC,iBACR,oCACAJ,uBAECK,MAAKC,YAACC,KAAEA,KAAFC,GAAQA,6BACHC,mBAAmB,6BAA8BF,KAAMC,IAGzC,mBAAbT,UACPA,cAGLW,OAAOC,QAAU,2BAAiBA,4HA5HrCC,IAAM,EACNC,WAAY,EACZC,aAAe,WAiBHC,wBAAwBC,QAChCC,iBAAmBhB,SAASiB,cAAc,OAC9CD,iBAAiBE,UAAY,+BAEzBC,aAAenB,SAASiB,cAAc,SAC1CE,aAAaD,UAAY,eACzBC,aAAaC,YAAc,eAC3BD,aAAaJ,GAAK,gBAAmBA,GACrCI,aAAaE,aAAa,YAAY,OAElCC,gBAAkBtB,SAASiB,cAAc,SAC7CK,gBAAgBD,aAAa,OAAQ,YACrCC,gBAAgBJ,UAAY,kBAC5BI,gBAAgBP,GAAK,mBAAsBA,OAEvCQ,sBA6DgBC,aA5DhB,uBA4D8BC,KA3D9B,SA2DoCC,WA1DpC,uBA0DgDC,QAzDhD,KA0DJH,aAAexB,SAASiB,cAAcQ,OACzBP,UAAYQ,WACzBF,aAAaI,YAAcD,QACpBH,kBAJaA,aAAcC,KAAMC,WAAYC,eAvDpDJ,qBAAqBR,GAAK,wBAA2BA,GAErDC,iBAAiBa,YAAYP,iBAC7BN,iBAAiBa,YAAYV,cAC7BH,iBAAiBa,YAAYN,sBAE7BA,qBAAqBO,iBAAiB,SAAS,KAC3Cd,iBAAiBd,YAEdc,2DA7CqC,KAExBhB,SAASC,cAAc,+BAC7B6B,iBAAiB,SAAS,qBAMpCd,iBAAmBF,wBAAwBH,IAAI,GAC9BX,SAASC,cAAc,iCAC7B4B,YAAYb,kBAC3BL,MARIoB,qDA4C4C,KAClB/B,SAASC,cACnC,4BAEoB6B,iBAAiB,SAAS,wBAMxC3B,iBAAiB,sCAEtBC,MAAK4B,WAAC1B,KAAEA,KAAFC,GAAQA,4BACDC,mBAAmB,aAAcF,KAAMC,mBAOrD0B,2BAA6BjC,SAASC,cACtC,+BAEAiC,gCAAkClC,SAASC,cAC3C,oCAEAkC,kCAAoCnC,SAASC,cAC7C,sCAGAmC,UAAYpC,SAASC,cAAc,cAEvCkC,kCAAkCL,iBAAiB,SAAS,KACxDlB,WAAY,EACZC,aAAe,KACfuB,UAAUlC,YAGdgC,gCAAgCJ,iBAAiB,SAAS,KACtDG,2BAA2B/B,YAzBvBmC,MAEH5B,OAAOC,QAAU,2BAAiBA"}