define("mod_livequiz/teacher_start_quiz",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=(url,teacherid)=>{console.log("Teacher Script is loaded and attempting to attach event listener.");const roomConnectionBtn=document.getElementById("room_connection_button");roomConnectionBtn?roomConnectionBtn.addEventListener("click",(async()=>{try{console.log("sending message");const socket=await async function(url){let socket;console.log(url),socket=new WebSocket(url);let myPromise=new Promise((function(myResolve,myReject){socket.onopen=()=>{console.log("WebSocket connection established successfully!"),myResolve(socket)},socket.onerror=error=>{console.error("WebSocket encountered an error:",error),myReject()}}));return console.log("WebSocket object created, awaiting connection."),socket.onmessage=event=>{console.log("WebSocket message received:",event.data);const roomCodeElem=document.getElementById("roomCode");roomCodeElem?roomCodeElem.innerHTML=event.data:console.error("Button with id 'roomCode' not found!")},socket.onclose=()=>{console.log("WebSocket connection closed.")},myPromise}("".concat(url,"?requesttype=createroom&userid=").concat(teacherid));socket.send('"Testing some stuff for teachers" '.concat(teacherid))}catch(e){console.error("Teacher failed to create room, ".concat(e))}})):console.error("Button with id 'room_connection_button' not found!")}}));

//# sourceMappingURL=teacher_start_quiz.min.js.map