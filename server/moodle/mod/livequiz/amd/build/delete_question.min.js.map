{"version":3,"file":"delete_question.min.js","sources":["../src/delete_question.js"],"sourcesContent":["import {deleteQuestion} from \"./repository\";\nimport {rerenderTakeQuizButton} from \"./edit_question_helper\";\n\nlet takeQuizUrl = \"\";\n\nexport const init = async(quizId, lecturerId, url) => {\n    takeQuizUrl = url; // Set url to quiz attempt page to global variable\n    addDeleteQuestionListeners(quizId, lecturerId);\n};\n\n/**\n *\n * @param quizId\n * @param lecturerId\n */\nexport function addDeleteQuestionListeners(quizId, lecturerId) {\n  let questionList = document.getElementById(\"saved_questions_list\");\n  let deleteQuestionElements = questionList.querySelectorAll(\".delete-question\");\n\n  deleteQuestionElements.forEach((element) => {\n    element.addEventListener(\"click\", () => {\n      let listItem = element.closest(\"li\"); // Get the list item.\n      let questionId = parseInt(element.dataset.id, 10);\n            if (!confirm(\"Are you sure you want to delete this question?\")) {\n                return;\n            } else {\n                deleteQuestion(questionId, lecturerId, quizId);\n                listItem.remove(); // Remove the question from the list.\n                element.remove(); // Remove the delete button.\n            }\n\n      let updatedListLength = questionList.querySelectorAll(\"li\").length;\n      if (updatedListLength === 0) {\n        rerenderTakeQuizButton(takeQuizUrl, false);\n      }\n    });\n  });\n}\n"],"names":["takeQuizUrl","addDeleteQuestionListeners","quizId","lecturerId","questionList","document","getElementById","querySelectorAll","forEach","element","addEventListener","listItem","closest","questionId","parseInt","dataset","id","confirm","remove","length","async","url"],"mappings":"gSAGIA,YAAc,YAYFC,2BAA2BC,OAAQC,gBAC7CC,aAAeC,SAASC,eAAe,wBACdF,aAAaG,iBAAiB,oBAEpCC,SAASC,UAC9BA,QAAQC,iBAAiB,SAAS,SAC5BC,SAAWF,QAAQG,QAAQ,MAC3BC,WAAaC,SAASL,QAAQM,QAAQC,GAAI,IACnCC,QAAQ,mFAGMJ,WAAYV,WAAYD,QACvCS,SAASO,SACTT,QAAQS,SAIQ,IADFd,aAAaG,iBAAiB,MAAMY,yDAEnCnB,aAAa,wBA5BxBoB,MAAMlB,OAAQC,WAAYkB,OAC1CrB,YAAcqB,IACdpB,2BAA2BC,OAAQC"}