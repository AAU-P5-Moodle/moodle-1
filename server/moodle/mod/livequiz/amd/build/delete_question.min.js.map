{"version":3,"file":"delete_question.min.js","sources":["../src/delete_question.js"],"sourcesContent":["import { delete_question } from \"./repository\";\r\nimport { rerender_take_quiz_button } from \"./helper\";\r\n\r\nlet take_quiz_url = \"\";\r\n\r\nexport const init = async (quizid, lecturerid, url) => {\r\n  take_quiz_url = url; //Set url to quiz attempt page to global variable\r\n  add_delete_question_listeners(quizid, lecturerid);\r\n};\r\n\r\nexport function add_delete_question_listeners(quizid, lecturerid) {\r\n  let question_list = document.getElementById(\"saved_questions_list\");\r\n  let list_items = question_list.querySelectorAll(\"li\");\r\n\r\n  list_items.forEach((item) => {\r\n    item.addEventListener(\"click\", () => {\r\n      let questionid = item.id;\r\n      questionid = parseInt(questionid.replace(\"question_list_\", \"\"));\r\n      delete_question(questionid, lecturerid, quizid);\r\n      let edit_button = item.nextElementSibling; //The edit buttons is always a sibling of the question\r\n      edit_button.remove();\r\n      item.remove();\r\n      \r\n      let updated_list_length = question_list.querySelectorAll(\"li\").length;\r\n      if(updated_list_length === 0) {\r\n        rerender_take_quiz_button(take_quiz_url, false);\r\n      }\r\n    });\r\n  });\r\n}\r\n"],"names":["take_quiz_url","add_delete_question_listeners","quizid","lecturerid","question_list","document","getElementById","querySelectorAll","forEach","item","addEventListener","questionid","id","parseInt","replace","nextElementSibling","remove","length","async","url"],"mappings":"0QAGIA,cAAgB,YAOJC,8BAA8BC,OAAQC,gBAChDC,cAAgBC,SAASC,eAAe,wBAC3BF,cAAcG,iBAAiB,MAErCC,SAASC,OAClBA,KAAKC,iBAAiB,SAAS,SACzBC,WAAaF,KAAKG,GACtBD,WAAaE,SAASF,WAAWG,QAAQ,iBAAkB,qCAC3CH,WAAYR,WAAYD,QACtBO,KAAKM,mBACXC,SACZP,KAAKO,SAGsB,IADDZ,cAAcG,iBAAiB,MAAMU,8CAEnCjB,eAAe,uBApB7BkB,MAAOhB,OAAQC,WAAYgB,OAC7CnB,cAAgBmB,IAChBlB,8BAA8BC,OAAQC"}