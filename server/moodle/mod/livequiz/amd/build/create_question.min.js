define("mod_livequiz/create_question",["exports","core/templates","./repository","./delete_question","./edit_question","./helper"],(function(_exports,_templates,_repository,_delete_question,_edit_question,_helper){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_templates=(obj=_templates)&&obj.__esModule?obj:{default:obj};let takeQuizUrl="";_exports.init=async(quizId,lecturerId,url)=>{takeQuizUrl=url,document.getElementById("add_question_button").addEventListener("click",(()=>{!function(quizId,lecturerId){document.querySelector(".Modal_div")||_templates.default.renderForPromise("mod_livequiz/question_menu_popup",{},"boost").then((_ref=>{let{html:html,js:js}=_ref;_templates.default.appendNodeContents(".main_container",html,js),(0,_helper.addAnswerButtonEventListener)(),function(quizId,lecturerId){document.querySelector(".save_button").addEventListener("click",(()=>{!function(quizId,lecturerId){let savedQuestion=function(){let questionData=(0,_helper.getQuestionData)();return{id:0,title:questionData.title,answers:(0,_helper.prepareAnswers)(),description:questionData.description,explanation:questionData.explanation,type:questionData.type}}();if(!(0,_helper.validateSubmission)(savedQuestion.answers))return;let updateEventListeners=()=>{(0,_edit_question.addEditQuestionListeners)(quizId,lecturerId),(0,_delete_question.addDeleteQuestionListeners)(quizId,lecturerId)};(0,_repository.saveQuestion)(savedQuestion,lecturerId,quizId).then((questions=>{(0,_helper.rerenderSavedQuestionsList)(questions,updateEventListeners),(0,_helper.rerenderTakeQuizButton)(takeQuizUrl,!0)})).catch((error=>window.console.log(error))),document.querySelector(".backdrop").remove()}(quizId,lecturerId)}))}(quizId,lecturerId),(0,_helper.addCancelEditButtonListener)("create")})).catch((error=>alert(error)))}(quizId,lecturerId)}))}}));

//# sourceMappingURL=create_question.min.js.map