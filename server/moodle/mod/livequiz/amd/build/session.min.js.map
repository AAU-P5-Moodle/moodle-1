{"version":3,"file":"session.min.js","sources":["../src/session.js"],"sourcesContent":["import {updateSession} from \"./repository\";\n\n/**\n * Update session with selected answers.\n *\n * @param quizId\n * @param questionId\n * @returns {Promise<void>}\n */\nexport const init = async(quizId, questionId) => {\n    // Select all answer options (radio buttons, checkboxes, and dropdowns).\n    const answerOptions = document.getElementsByClassName(quizId);\n    // Add a 'change' event listener to each option.\n    answerOptions.forEach((option) => {\n        option.addEventListener(\"change\", function() {\n            // Runs each time an option is selected.\n            const selectedAnswers = [];\n            // Get all selected answers.\n            Array.from(answerOptions).forEach((input) => {\n                if (\n                    input.checked ||\n                    (input.type === \"radio\" && input.checked) ||\n                    (input.type === \"checkbox\" && input.checked)\n                ) {\n                    selectedAnswers.push(input.value);\n                }\n            });\n            updateSession(quizId, questionId, JSON.stringify(selectedAnswers));\n            window.console.log(\"updated session\");\n        });\n    });\n};"],"names":["async","quizId","questionId","answerOptions","document","getElementsByClassName","forEach","option","addEventListener","selectedAnswers","Array","from","input","checked","type","push","value","JSON","stringify","window","console","log"],"mappings":"oLASoBA,MAAMC,OAAQC,oBAExBC,cAAgBC,SAASC,uBAAuBJ,QAEtDE,cAAcG,SAASC,SACnBA,OAAOC,iBAAiB,UAAU,iBAExBC,gBAAkB,GAExBC,MAAMC,KAAKR,eAAeG,SAASM,SAE3BA,MAAMC,SACU,UAAfD,MAAME,MAAoBF,MAAMC,SACjB,aAAfD,MAAME,MAAuBF,MAAMC,UAEpCJ,gBAAgBM,KAAKH,MAAMI,wCAGrBf,OAAQC,WAAYe,KAAKC,UAAUT,kBACjDU,OAAOC,QAAQC,IAAI"}