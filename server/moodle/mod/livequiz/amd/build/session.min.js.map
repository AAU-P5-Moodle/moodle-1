{"version":3,"file":"session.min.js","sources":["../src/session.js"],"sourcesContent":["import { update_session } from \"./repository\";\n\n/**\n * Update session with selected answers.\n * @module     mod_livequiz/session\n */\nexport const init = async (quizid, questionid) => {\n  window.console.log(\"PLEASE CALL THIS\");\n\n  window.console.log(\"loaded DOM content\");\n\n  // Select all answer options (radio buttons, checkboxes, and dropdowns)\n  const answerOptions = document.getElementsByClassName(quizid);\n\n  window.console.log(answerOptions);\n\n  // Add a 'change' event listener to each option\n  answerOptions.forEach((option) => {\n    option.addEventListener(\"change\", function (event) {\n      // Runs each time an option is selected\n      const selectedAnswers = [];\n      // Get all selected answers\n      Array.from(answerOptions).forEach((input) => {\n        if (\n          input.checked ||\n          (input.type === \"radio\" && input.checked) ||\n          (input.type === \"checkbox\" && input.checked)\n        ) {\n          selectedAnswers.push(input.value);\n        }\n      });\n    //KEPT FOR DEVELOPMENT\n    window.console.log(selectedAnswers);\n    update_session(questionid, selectedAnswers);\n    });\n  });\n\n};\n"],"names":["async","quizid","questionid","window","console","log","answerOptions","document","getElementsByClassName","forEach","option","addEventListener","event","selectedAnswers","Array","from","input","checked","type","push","value"],"mappings":"oLAMoBA,MAAOC,OAAQC,cACjCC,OAAOC,QAAQC,IAAI,oBAEnBF,OAAOC,QAAQC,IAAI,4BAGbC,cAAgBC,SAASC,uBAAuBP,QAEtDE,OAAOC,QAAQC,IAAIC,eAGnBA,cAAcG,SAASC,SACrBA,OAAOC,iBAAiB,UAAU,SAAUC,aAEpCC,gBAAkB,GAExBC,MAAMC,KAAKT,eAAeG,SAASO,SAE/BA,MAAMC,SACU,UAAfD,MAAME,MAAoBF,MAAMC,SACjB,aAAfD,MAAME,MAAuBF,MAAMC,UAEpCJ,gBAAgBM,KAAKH,MAAMI,UAIjCjB,OAAOC,QAAQC,IAAIQ,gDACJX,WAAYW"}