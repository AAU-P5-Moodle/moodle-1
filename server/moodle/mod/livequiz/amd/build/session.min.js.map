{"version":3,"file":"session.min.js","sources":["../src/session.js"],"sourcesContent":["import { update_session } from \"./repository\";\r\n\r\n\r\n // Update session with selected answers.\r\n // @module     mod_livequiz/session.\r\nexport const init = async(quizid, questionid) => {\r\n    // Select all answer options (radio buttons, checkboxes, and dropdowns).\r\n    const answerOptions = document.getElementsByClassName(quizid);\r\n    // Add a 'change' event listener to each option.\r\n    answerOptions.forEach((option) => {\r\n        option.addEventListener(\"change\", function () {\r\n            // Runs each time an option is selected.\r\n            const selectedAnswers = [];\r\n            // Get all selected answers.\r\n            Array.from(answerOptions).forEach((input) => {\r\n                if (\r\n                  input.checked ||\r\n                  (input.type === \"radio\" && input.checked) ||\r\n                  (input.type === \"checkbox\" && input.checked)\r\n                ) {\r\n                  selectedAnswers.push(input.value);\r\n                }\r\n            });\r\n            update_session(quizid, questionid, JSON.stringify(selectedAnswers));\r\n            window.console.log(\"updated session\");\r\n        });\r\n    });\r\n};\r\n"],"names":["async","quizid","questionid","answerOptions","document","getElementsByClassName","forEach","option","addEventListener","selectedAnswers","Array","from","input","checked","type","push","value","JSON","stringify","window","console","log"],"mappings":"oLAKoBA,MAAMC,OAAQC,oBAExBC,cAAgBC,SAASC,uBAAuBJ,QAEtDE,cAAcG,SAASC,SACnBA,OAAOC,iBAAiB,UAAU,iBAExBC,gBAAkB,GAExBC,MAAMC,KAAKR,eAAeG,SAASM,SAE7BA,MAAMC,SACU,UAAfD,MAAME,MAAoBF,MAAMC,SACjB,aAAfD,MAAME,MAAuBF,MAAMC,UAEpCJ,gBAAgBM,KAAKH,MAAMI,yCAGlBf,OAAQC,WAAYe,KAAKC,UAAUT,kBAClDU,OAAOC,QAAQC,IAAI"}