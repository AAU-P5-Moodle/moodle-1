{"version":3,"file":"session.min.js","sources":["../src/session.js"],"sourcesContent":["import {updateSession} from \"./repository\";\r\n\r\n/**\r\n * Update session with selected answers.\r\n *\r\n * @param quizId\r\n * @param questionId\r\n * @returns {Promise<void>}\r\n */\r\nexport const init = async(quizId, questionId) => {\r\n    // Select all answer options (radio buttons, checkboxes, and dropdowns).\r\n    const answerOptions = document.getElementsByClassName(quizId);\r\n    // Add a 'change' event listener to each option.\r\n    answerOptions.forEach((option) => {\r\n        option.addEventListener(\"change\", function() {\r\n            // Runs each time an option is selected.\r\n            const selectedAnswers = [];\r\n            // Get all selected answers.\r\n            Array.from(answerOptions).forEach((input) => {\r\n                if (\r\n                    input.checked ||\r\n                    (input.type === \"radio\" && input.checked) ||\r\n                    (input.type === \"checkbox\" && input.checked)\r\n                ) {\r\n                    selectedAnswers.push(input.value);\r\n                }\r\n            });\r\n            updateSession(quizId, questionId, JSON.stringify(selectedAnswers));\r\n            window.console.log(\"updated session\");\r\n        });\r\n    });\r\n};"],"names":["async","quizId","questionId","answerOptions","document","getElementsByClassName","forEach","option","addEventListener","selectedAnswers","Array","from","input","checked","type","push","value","JSON","stringify","window","console","log"],"mappings":"oLASoBA,MAAMC,OAAQC,oBAExBC,cAAgBC,SAASC,uBAAuBJ,QAEtDE,cAAcG,SAASC,SACnBA,OAAOC,iBAAiB,UAAU,iBAExBC,gBAAkB,GAExBC,MAAMC,KAAKR,eAAeG,SAASM,SAE3BA,MAAMC,SACU,UAAfD,MAAME,MAAoBF,MAAMC,SACjB,aAAfD,MAAME,MAAuBF,MAAMC,UAEpCJ,gBAAgBM,KAAKH,MAAMI,wCAGrBf,OAAQC,WAAYe,KAAKC,UAAUT,kBACjDU,OAAOC,QAAQC,IAAI"}