{"version":3,"file":"session.min.js","sources":["../src/session.js"],"sourcesContent":["import { update_session } from \"./repository\";\n\n\n// Update session with selected answers.\n// @module     mod_livequiz/session.\nexport const init = async(quizid, questionid) => {\n    // Select all answer options (radio buttons, checkboxes, and dropdowns).\n    const answerOptions = document.getElementsByClassName(quizid);\n    // Add a 'change' event listener to each option.\n    answerOptions.forEach((option) => {\n        option.addEventListener(\"change\", function () {\n            // Runs each time an option is selected.\n            const selectedAnswers = [];\n            // Get all selected answers.\n            Array.from(answerOptions).forEach((input) => {\n                if (\n                    input.checked ||\n                    (input.type === \"radio\" && input.checked) ||\n                    (input.type === \"checkbox\" && input.checked)\n                ) {\n                    selectedAnswers.push(input.value);\n                }\n            });\n            update_session(quizid, questionid, JSON.stringify(selectedAnswers));\n            window.console.log(\"updated session\");\n        });\n    });\n};"],"names":["async","quizid","questionid","answerOptions","document","getElementsByClassName","forEach","option","addEventListener","selectedAnswers","Array","from","input","checked","type","push","value","JSON","stringify","window","console","log"],"mappings":"oLAKoBA,MAAMC,OAAQC,oBAExBC,cAAgBC,SAASC,uBAAuBJ,QAEtDE,cAAcG,SAASC,SACnBA,OAAOC,iBAAiB,UAAU,iBAExBC,gBAAkB,GAExBC,MAAMC,KAAKR,eAAeG,SAASM,SAE3BA,MAAMC,SACU,UAAfD,MAAME,MAAoBF,MAAMC,SACjB,aAAfD,MAAME,MAAuBF,MAAMC,UAEpCJ,gBAAgBM,KAAKH,MAAMI,yCAGpBf,OAAQC,WAAYe,KAAKC,UAAUT,kBAClDU,OAAOC,QAAQC,IAAI"}