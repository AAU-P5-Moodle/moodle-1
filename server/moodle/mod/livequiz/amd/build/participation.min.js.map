{"version":3,"file":"participation.min.js","sources":["../src/participation.js"],"sourcesContent":["// File: mod/livequiz/amd/src/participation.js\n\n/**\n * Participation module for Live Quiz.\n *\n * @module     mod_livequiz/participation\n */\n\ndefine([\"jquery\", \"core/ajax\", \"core/str\"], function (Ajax, Str) {\n    return {\n        init: function (quizid) {\n            console.log(\"Participation module initialized for quiz \", quizid);\n            var participateButton = document.getElementById(\"takeQuizBtn\");\n            if (participateButton) {\n                participateButton.addEventListener(\"click\", function (e) {\n                    e.preventDefault();\n\n                    // Make an AJAX request.\n                    var requests = Ajax.call([\n                        {\n                            methodname: \"mod_livequiz_append_participation\",\n                            args: { quizid: quizid },\n                        },\n                    ]);\n\n                    requests[0]\n                        .done(function () {\n                            // Handle success.\n                            console.log(\"AJAX request successful.\");\n                            Str.get_string(\"participation_recorded\", \"mod_livequiz\").then(function (string) {\n                                alert(string);\n                            });\n                        })\n                        .fail(function () {\n                            console.log(\"AJAX request failed.\");\n                            // Handle error.\n                            Str.get_string(\"participation_error\", \"mod_livequiz\").then(function (string) {\n                                alert(string);\n                            });\n                        });\n                });\n            } else {\n                console.log(\"Participate button not found.\");\n            }\n        },\n    };\n});\n"],"names":["define","Ajax","Str","init","quizid","console","log","participateButton","document","getElementById","addEventListener","e","preventDefault","call","methodname","args","done","get_string","then","string","alert","fail"],"mappings":"AAQAA,oCAAO,CAAC,SAAU,YAAa,aAAa,SAAUC,KAAMC,WACjD,CACHC,KAAM,SAAUC,QACZC,QAAQC,IAAI,6CAA8CF,YACtDG,kBAAoBC,SAASC,eAAe,eAC5CF,kBACAA,kBAAkBG,iBAAiB,SAAS,SAAUC,GAClDA,EAAEC,iBAGaX,KAAKY,KAAK,CACrB,CACIC,WAAY,oCACZC,KAAM,CAAEX,OAAQA,WAIf,GACJY,MAAK,WAEFX,QAAQC,IAAI,4BACZJ,IAAIe,WAAW,yBAA0B,gBAAgBC,MAAK,SAAUC,QACpEC,MAAMD,cAGbE,MAAK,WACFhB,QAAQC,IAAI,wBAEZJ,IAAIe,WAAW,sBAAuB,gBAAgBC,MAAK,SAAUC,QACjEC,MAAMD,iBAKtBd,QAAQC,IAAI"}