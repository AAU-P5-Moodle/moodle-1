define("mod_livequiz/delete_question",["exports","./repository","./helper"],(function(_exports,_repository,_helper){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.addDeleteQuestionListeners=addDeleteQuestionListeners,_exports.init=void 0;let takeQuizUrl="";function addDeleteQuestionListeners(quizId,lecturerId){let questionList=document.getElementById("saved_questions_list");questionList.querySelectorAll(".delete-question").forEach((element=>{element.addEventListener("click",(()=>{let listItem=element.closest("li"),questionId=parseInt(element.dataset.id,10);confirm("Are you sure you want to delete this question?")&&(0,_repository.deleteQuestion)(questionId,lecturerId,quizId).then((response=>{if(!response.success)throw"Cannot delete question, since it already has participations";listItem.remove(),element.remove(),0===questionList.querySelectorAll("li").length&&(0,_helper.rerenderTakeQuizButton)(takeQuizUrl,!1)})).catch((error=>{alert(error)}))}))}))}_exports.init=async(quizId,lecturerId,url)=>{takeQuizUrl=url,addDeleteQuestionListeners(quizId,lecturerId)}}));

//# sourceMappingURL=delete_question.min.js.map