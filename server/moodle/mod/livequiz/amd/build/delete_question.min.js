define("mod_livequiz/delete_question",["exports","./repository","./edit_question_helper"],(function(_exports,_repository,_edit_question_helper){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.add_delete_question_listeners=add_delete_question_listeners,_exports.init=void 0;let take_quiz_url="";function add_delete_question_listeners(quizid,lecturerid){let question_list=document.getElementById("saved_questions_list");question_list.querySelectorAll(".delete-question").forEach((element=>{element.addEventListener("click",(()=>{let list_item=element.closest("li"),questionid=parseInt(element.dataset.id,10);confirm("Are you sure you want to delete this question?")&&(0,_repository.delete_question)(questionid,lecturerid,quizid).then((response=>{if(!response.success)throw"Cannot delete question, since it already has participations";list_item.remove(),element.remove(),0===question_list.querySelectorAll("li").length&&(0,_edit_question_helper.rerender_take_quiz_button)(take_quiz_url,!1)})).catch((error=>{alert(error)}))}))}))}_exports.init=async(quizid,lecturerid,url)=>{take_quiz_url=url,add_delete_question_listeners(quizid,lecturerid)}}));

//# sourceMappingURL=delete_question.min.js.map