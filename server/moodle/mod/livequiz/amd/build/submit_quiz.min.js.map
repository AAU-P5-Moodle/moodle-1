{"version":3,"file":"submit_quiz.min.js","sources":["../src/submit_quiz.js"],"sourcesContent":["import {insert_participation, insert_answer_choice, insert_answer_choices} from \"./repository\";\r\n\r\nexport const init = async(quizid, studentid) => {\r\n    window.console.log(\"submitting quiz with\");\r\n    const submitQuizButton = document.getElementById(\"submitQuizBtn\");\r\n    submitQuizButton.addEventListener(\"click\", function () {\r\n        try {\r\n            window.console.log(\"starting to submit quiz after click\");\r\n            // Insert participation and wait for the participation ID.\r\n            let participationid = insert_participation(quizid, studentid);\r\n            window.console.log(\"Inserted participation with ID: \", participationid);\r\n\r\n            window.console.log(\"Inserting answers\");\r\n            insert_answer_choices(studentid, participationid, quizid);\r\n            window.console.log(\"Done with answers\");\r\n\r\n            // Insert each answer choice after participation is successfully created.\r\n            /*for (let answerid of answers) {\r\n                window.console.log(\"answerid: \",answerid);\r\n                //try {\r\n                //    await insert_answer_choice(studentid, answerid, participationid);\r\n                //} catch (error) {\r\n                //    window.console.error(\"Error in insert_answer_choice\", error);\r\n                //}\r\n            }*/\r\n        } catch (error) {\r\n            window.console.error(\"Error in insert_participation\", error);\r\n        }\r\n    });\r\n};\r\n\r\n"],"names":["async","quizid","studentid","window","console","log","document","getElementById","addEventListener","participationid","error"],"mappings":"wLAEoBA,MAAMC,OAAQC,aAC9BC,OAAOC,QAAQC,IAAI,wBACMC,SAASC,eAAe,iBAChCC,iBAAiB,SAAS,eAEnCL,OAAOC,QAAQC,IAAI,2CAEfI,iBAAkB,oCAAqBR,OAAQC,WACnDC,OAAOC,QAAQC,IAAI,mCAAoCI,iBAEvDN,OAAOC,QAAQC,IAAI,2DACGH,UAAWO,gBAAiBR,QAClDE,OAAOC,QAAQC,IAAI,qBAWrB,MAAOK,OACLP,OAAOC,QAAQM,MAAM,gCAAiCA"}