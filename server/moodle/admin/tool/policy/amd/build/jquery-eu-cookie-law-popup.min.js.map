{"version":3,"file":"jquery-eu-cookie-law-popup.min.js","sources":["../src/jquery-eu-cookie-law-popup.js"],"sourcesContent":["/**\n *\n * JQUERY EU COOKIE LAW POPUPS\n * version 1.1.1\n *\n * Code on Github:\n * https://github.com/wimagguc/jquery-eu-cookie-law-popup\n *\n * To see a live demo, go to:\n * http://www.wimagguc.com/2018/05/gdpr-compliance-with-the-jquery-eu-cookie-law-plugin/\n *\n * by Richard Dancsi\n * http://www.wimagguc.com/\n *\n */\n\ndefine(['jquery'], function($) {\n\n// for ie9 doesn't support debug console >>>\nif (!window.console) window.console = {};\nif (!window.console.log) window.console.log = function () { };\n// ^^^\n\n$.fn.euCookieLawPopup = (function() {\n\n\tvar _self = this;\n\n\t///////////////////////////////////////////////////////////////////////////////////////////////\n\t// PARAMETERS (MODIFY THIS PART) //////////////////////////////////////////////////////////////\n\t_self.params = {\n\t\tcookiePolicyUrl : '/?cookie-policy',\n\t\tpopupPosition : 'top',\n\t\tcolorStyle : 'default',\n\t\tcompactStyle : false,\n\t\tpopupTitle : 'This website is using cookies',\n\t\tpopupText : 'We use cookies to ensure that we give you the best experience on our website. If you continue without changing your settings, we\\'ll assume that you are happy to receive all cookies on this website.',\n\t\tbuttonContinueTitle : 'Continue',\n\t\tbuttonLearnmoreTitle : 'Learn&nbsp;more',\n\t\tbuttonLearnmoreOpenInNewWindow : true,\n\t\tagreementExpiresInDays : 30,\n\t\tautoAcceptCookiePolicy : false,\n\t\thtmlMarkup : null\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////////////////////////\n\t// VARIABLES USED BY THE FUNCTION (DON'T MODIFY THIS PART) ////////////////////////////////////\n\t_self.vars = {\n\t\tINITIALISED : false,\n\t\tHTML_MARKUP : null,\n\t\tCOOKIE_NAME : 'EU_COOKIE_LAW_CONSENT'\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////////////////////////\n\t// PRIVATE FUNCTIONS FOR MANIPULATING DATA ////////////////////////////////////////////////////\n\n\t// Overwrite default parameters if any of those is present\n\tvar parseParameters = function(object, markup, settings) {\n\n\t\tif (object) {\n\t\t\tvar className = $(object).attr('class') ? $(object).attr('class') : '';\n\t\t\tif (className.indexOf('eupopup-top') > -1) {\n\t\t\t\t_self.params.popupPosition = 'top';\n\t\t\t}\n\t\t\telse if (className.indexOf('eupopup-fixedtop') > -1) {\n\t\t\t\t_self.params.popupPosition = 'fixedtop';\n\t\t\t}\n\t\t\telse if (className.indexOf('eupopup-bottomright') > -1) {\n\t\t\t\t_self.params.popupPosition = 'bottomright';\n\t\t\t}\n\t\t\telse if (className.indexOf('eupopup-bottomleft') > -1) {\n\t\t\t\t_self.params.popupPosition = 'bottomleft';\n\t\t\t}\n\t\t\telse if (className.indexOf('eupopup-bottom') > -1) {\n\t\t\t\t_self.params.popupPosition = 'bottom';\n\t\t\t}\n\t\t\telse if (className.indexOf('eupopup-block') > -1) {\n\t\t\t\t_self.params.popupPosition = 'block';\n\t\t\t}\n\t\t\tif (className.indexOf('eupopup-color-default') > -1) {\n\t\t\t\t_self.params.colorStyle = 'default';\n\t\t\t}\n\t\t\telse if (className.indexOf('eupopup-color-inverse') > -1) {\n\t\t\t\t_self.params.colorStyle = 'inverse';\n\t\t\t}\n\t\t\tif (className.indexOf('eupopup-style-compact') > -1) {\n\t\t\t\t_self.params.compactStyle = true;\n\t\t\t}\n\t\t}\n\n\t\tif (markup) {\n\t\t\t_self.params.htmlMarkup = markup;\n\t\t}\n\n\t\tif (settings) {\n\t\t\tif (typeof settings.cookiePolicyUrl !== 'undefined') {\n\t\t\t\t_self.params.cookiePolicyUrl = settings.cookiePolicyUrl;\n\t\t\t}\n\t\t\tif (typeof settings.popupPosition !== 'undefined') {\n\t\t\t\t_self.params.popupPosition = settings.popupPosition;\n\t\t\t}\n\t\t\tif (typeof settings.colorStyle !== 'undefined') {\n\t\t\t\t_self.params.colorStyle = settings.colorStyle;\n\t\t\t}\n\t\t\tif (typeof settings.popupTitle !== 'undefined') {\n\t\t\t\t_self.params.popupTitle = settings.popupTitle;\n\t\t\t}\n\t\t\tif (typeof settings.popupText !== 'undefined') {\n\t\t\t\t_self.params.popupText = settings.popupText;\n\t\t\t}\n\t\t\tif (typeof settings.buttonContinueTitle !== 'undefined') {\n\t\t\t\t_self.params.buttonContinueTitle = settings.buttonContinueTitle;\n\t\t\t}\n\t\t\tif (typeof settings.buttonLearnmoreTitle !== 'undefined') {\n\t\t\t\t_self.params.buttonLearnmoreTitle = settings.buttonLearnmoreTitle;\n\t\t\t}\n\t\t\tif (typeof settings.buttonLearnmoreOpenInNewWindow !== 'undefined') {\n\t\t\t\t_self.params.buttonLearnmoreOpenInNewWindow = settings.buttonLearnmoreOpenInNewWindow;\n\t\t\t}\n\t\t\tif (typeof settings.agreementExpiresInDays !== 'undefined') {\n\t\t\t\t_self.params.agreementExpiresInDays = settings.agreementExpiresInDays;\n\t\t\t}\n\t\t\tif (typeof settings.autoAcceptCookiePolicy !== 'undefined') {\n\t\t\t\t_self.params.autoAcceptCookiePolicy = settings.autoAcceptCookiePolicy;\n\t\t\t}\n\t\t\tif (typeof settings.htmlMarkup !== 'undefined') {\n\t\t\t\t_self.params.htmlMarkup = settings.htmlMarkup;\n\t\t\t}\n\t\t}\n\n\t};\n\n\tvar createHtmlMarkup = function() {\n\n\t\tif (_self.params.htmlMarkup) {\n\t\t\treturn _self.params.htmlMarkup;\n\t\t}\n\n\t\tvar html =\n\t\t\t'<div class=\"eupopup-container' +\n\t\t\t    ' eupopup-container-' + _self.params.popupPosition +\n\t\t\t    (_self.params.compactStyle ? ' eupopup-style-compact' : '') +\n\t\t\t\t' eupopup-color-' + _self.params.colorStyle + '\">' +\n\t\t\t\t'<div class=\"eupopup-head\">' + _self.params.popupTitle + '</div>' +\n\t\t\t\t'<div class=\"eupopup-body\">' + _self.params.popupText + '</div>' +\n\t\t\t\t'<div class=\"eupopup-buttons\">' +\n\t\t\t\t  '<a href=\"#\" class=\"eupopup-button eupopup-button_1\">' + _self.params.buttonContinueTitle + '</a>' +\n\t\t\t\t  '<a href=\"' + _self.params.cookiePolicyUrl + '\"' +\n\t\t\t\t \t(_self.params.buttonLearnmoreOpenInNewWindow ? ' target=_blank ' : '') +\n\t\t\t\t\t' class=\"eupopup-button eupopup-button_2\">' + _self.params.buttonLearnmoreTitle + '</a>' +\n\t\t\t\t  '<div class=\"clearfix\"></div>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<a href=\"#\" class=\"eupopup-closebutton\">x</a>' +\n\t\t\t'</div>';\n\n\t\treturn html;\n\t};\n\n\t// Storing the consent in a cookie\n\tvar setUserAcceptsCookies = function(consent) {\n\t\tvar d = new Date();\n\t\tvar expiresInDays = _self.params.agreementExpiresInDays * 24 * 60 * 60 * 1000;\n\t\td.setTime( d.getTime() + expiresInDays );\n\t\tvar expires = \"expires=\" + d.toGMTString();\n\t\tdocument.cookie = _self.vars.COOKIE_NAME + '=' + consent + \"; \" + expires + \";path=/\";\n\n\t\t$(document).trigger(\"user_cookie_consent_changed\", {'consent' : consent});\n\t};\n\n\t// Let's see if we have a consent cookie already\n\tvar userAlreadyAcceptedCookies = function() {\n\t\tvar userAcceptedCookies = false;\n\t\tvar cookies = document.cookie.split(\";\");\n\t\tfor (var i = 0; i < cookies.length; i++) {\n\t\t\tvar c = cookies[i].trim();\n\t\t\tif (c.indexOf(_self.vars.COOKIE_NAME) !== -1) {\n\t\t\t\tuserAcceptedCookies = c.substring(_self.vars.COOKIE_NAME.length + 1, c.length);\n\t\t\t}\n\t\t}\n\n\t\treturn userAcceptedCookies;\n\t};\n\n\tvar hideContainer = function() {\n\t\t// $('.eupopup-container').slideUp(200);\n\t\t$('.eupopup-container').animate({\n\t\t\topacity: 0,\n\t\t\theight: 0\n\t\t}, 200, function() {\n\t\t\t$('.eupopup-container').hide(0);\n\t\t});\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////////////////////////\n\t// PUBLIC FUNCTIONS  //////////////////////////////////////////////////////////////////////////\n\tvar publicfunc = {\n\n\t\t// INITIALIZE EU COOKIE LAW POPUP /////////////////////////////////////////////////////////\n\t\tinit : function(settings) {\n\n\t\t\tparseParameters(\n\t\t\t\t$(\".eupopup\").first(),\n\t\t\t\t$(\".eupopup-markup\").html(),\n\t\t\t\tsettings);\n\n\t\t\t// No need to display this if user already accepted the policy\n\t\t\tif (userAlreadyAcceptedCookies()) {\n        $(document).trigger(\"user_cookie_already_accepted\", {'consent': true});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// We should initialise only once\n\t\t\tif (_self.vars.INITIALISED) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_self.vars.INITIALISED = true;\n\n\t\t\t// Markup and event listeners >>>\n\t\t\t_self.vars.HTML_MARKUP = createHtmlMarkup();\n\n\t\t\tif ($('.eupopup-block').length > 0) {\n\t\t\t\t$('.eupopup-block').append(_self.vars.HTML_MARKUP);\n\t\t\t} else {\n\t\t\t\t$('BODY').append(_self.vars.HTML_MARKUP);\n\t\t\t}\n\n\t\t\t$('.eupopup-button_1').click(function() {\n\t\t\t\tsetUserAcceptsCookies(true);\n\t\t\t\thideContainer();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t$('.eupopup-closebutton').click(function() {\n\t\t\t\tsetUserAcceptsCookies(true);\n\t\t\t\thideContainer();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t// ^^^ Markup and event listeners\n\n\t\t\t// Ready to start!\n\t\t\t$('.eupopup-container').show();\n\n\t\t\t// In case it's alright to just display the message once\n\t\t\tif (_self.params.autoAcceptCookiePolicy) {\n\t\t\t\tsetUserAcceptsCookies(true);\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\treturn publicfunc;\n});\n});\n"],"names":["define","$","window","console","log","fn","euCookieLawPopup","_self","this","params","cookiePolicyUrl","popupPosition","colorStyle","compactStyle","popupTitle","popupText","buttonContinueTitle","buttonLearnmoreTitle","buttonLearnmoreOpenInNewWindow","agreementExpiresInDays","autoAcceptCookiePolicy","htmlMarkup","vars","INITIALISED","HTML_MARKUP","COOKIE_NAME","setUserAcceptsCookies","consent","d","Date","expiresInDays","setTime","getTime","expires","toGMTString","document","cookie","trigger","hideContainer","animate","opacity","height","hide","init","settings","object","markup","className","attr","indexOf","parseParameters","first","html","userAcceptedCookies","cookies","split","i","length","c","trim","substring","userAlreadyAcceptedCookies","append","click","show"],"mappings":"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"}